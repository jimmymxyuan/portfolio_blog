---
title: 'Rate Testing'
date: '2024-03-19'
---

As the development of Metcash Project was nearing the end, the functional testing were almost complete, the focus was then shifted towards volume test and to improve rates to meet the contract requirements. In order to do this, I had created several volume pick tests, initially with just randomly generated work orders, but eventually created ones close to the expected work profile from the contract, hoping to mimic the user acceptance test as much as possible. Unfortunately we encountered several issues along the way.


The first issue we had was that the Order Cartons being inducted would often stop working after a while, and end up sending all containers to reject lines. This was likely due to some sort of desync between the Dematic Virtual Facility (DVF) simulating the conveyors and the container emulator which receives the printed message from the Warehouse Control System (WCS) and recreate the containers using the new ID. After some investigating, it was due to the WCS not receiving lane clear message from DVF when the containers queue up unexpectedly. Unfrotunately at this stage, it would be too much development for the DVF team to add to this, so instead, I used the Container Emulator from my end to send this message in behalf of DVF, by tracking the rate of the containers being created and time the message across. After some trial and error, the containers were all being inducted consistently.


The second issue was that the Product Totes would sometimes get stuck as it was used by the pick on the way back to Dematic Multishuttle (DMS) racks. WCS would optimize the storage of product totes as it travels back by automatically choose the best aisle it should travel to, however it fails to consider the Order Cartons queuing up sharing some interception points, causing blockage time to time. I communicated this issue with the development team and they made some adjustments on this, prioritising Order Carton instead of Product Tote in some occasions, and greatly reduced the possibility of this happening, and even when it did, it would not cause a total stop, and should clear up after a while. 


The third issue was that Product Totes would occassionally get stuck on the lift as it travels to the Goods to Person stations in great numbers. This took a long time to find the root cause, as it was not very clear why it was doing it. Eventually it was found that DVF itself was not sending a notification message on time when it was sending several totes at the same time to WCS, causing a desync between the two and end up in a loop of retrying the transport mission. This issue took a very long time to solve as we had to rely on the DVF team to solve this, but apparently it was a rare racing condition that required us to provide a lot of data for them to test and reproduce to pin point and solve the issue. The timezone difference between our and their team also added to the delay. When it was finally solved, the commissioning work already started and we had to split our resources between volume test and commissioning work. Fine tuning the rates was very difficult before this issue was solved, but eventually it was improved to adequate rate to pass the test. 